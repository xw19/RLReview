<article>
  <h2 class="show-post-title"><%= @post.title %></h1>
  <small class="post-time"><%= @post.created_at.to_date %></small>
  <p class="author">Author</p>
  <div class="main-content" role="main">
    <%= @post.body %>
  </div>
</article>
<div class="panel panel-default">
  <div class="panel-heading">Comments</div>
  <div class="panel-body">
    <%= render partial: "comments/comment", collection: @comments.order('created_at DESC') %>
    <div class="row">
      <div class="col-md-offset-4 col-md-4"><%= paginate @comments %></div>
    </div>
    <div>
      <%= simple_form_for(@post.comments.new) do |f| %>
        <%= f.input :body, label: "New Comment" %>
        <%= f.input :commentable_id, as: :hidden, value: @post.id %>
        <%= f.input :commentable_type, as: :hidden, value: "Post" %>
        <%= f.button :submit %>
      <% end %>
    </div>
  </div>
</div>
<script>
  $(".comment-form").css('display', 'none');
  $(".comment-reply").on ("click", function(event) {
    event.preventDefault();
    $(this).parent().next().next().toggle(function() {
      $(this).parent().next().next().css("display", "block");
    }, function() {
      $(this).parent().next().next().css("display", "none");
    });
  });
</script>
