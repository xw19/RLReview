<div class="comment-section clearfix">
  <div class="comment <%= "reported" if !current_user.nil? && comment.reports.where(user_id: current_user.id).any? %>">
    <% if comment.user.nil? %>
      <p>["Deleted"]</p>
    <% else %>
      <p><%= markdown(comment.body) =%></p>
      <small><%= time_ago_in_words(comment.created_at) %> ago</small>
      <% unless current_user.nil? %>
        <small class="comment-reply"><a href="#">Reply</a></small>
        <small class="report-user"><a href="#">Report</a></small>
      <% end %>
    <% end %>
    <small class="comment-user">By: <%= "Dummy user" %></small><!-- comment.user.name -->
  </div>
  <div class="comment2">
    <%= render partial: "comments/comment", collection: comment.comments, locals: { post_id: post_id } if comment.comments.any? %>
  </div>
  <div class="comment-form">
    <%= simple_form_for(comment.comments.new, remote: true) do |f| %>
      <%= f.input :body, label: "Reply", input_html: {class: "comment-box"} %>
      <%= f.input :commentable_id, as: :hidden, value: comment.id %>
      <%= f.input :commentable_type, as: :hidden, value: "Comment" %>
      <%= f.input_field :post_id, as: :hidden, value: post_id %>
      <%= f.input_field :page, as: :hidden, value: params[:page] %>
      <%= f.button :submit %>
    <% end %>
  </div>
  <div class="report-form">
    <%= render partial: "reports/report", locals: { comment_id: comment.id } %>
  </div>
</div>
